commit 75bd966787688b0cdf5b10b2d0e0b89e4b834e4c
Author: Richard Hughes <richard@hughsie.com>
Date:   Thu Nov 27 16:42:42 2008 +0000

    bugfix: show the 'Force Install' button on the unsigned dialog UI

diff --git a/src/gpk-client-untrusted.c b/src/gpk-client-untrusted.c
index 44b1519..f18ea6c 100644
--- a/src/gpk-client-untrusted.c
+++ b/src/gpk-client-untrusted.c
@@ -70,9 +70,6 @@ gpk_client_untrusted_show (PkErrorCodeEnum code)
 	/* connect up actions */
 	widget = glade_xml_get_widget (glade_xml, "dialog_error");
 	g_signal_connect_swapped (widget, "delete_event", G_CALLBACK (gtk_main_quit), NULL);
-
-	/* set icon name */
-	widget = glade_xml_get_widget (glade_xml, "dialog_error");
 	gtk_window_set_icon_name (GTK_WINDOW (widget), GPK_ICON_SOFTWARE_INSTALLER);
 
 	/* close button */
@@ -122,7 +119,11 @@ gpk_client_untrusted_show (PkErrorCodeEnum code)
 	g_signal_connect (update_system_action, "activate",
 			  G_CALLBACK (gpk_client_untrusted_button_cb), NULL);
 	button = polkit_gnome_action_create_button (update_system_action);
-	widget = glade_xml_get_widget (glade_xml, "hbuttonbox2");
+	gtk_widget_show (button);
+
+	/* add to box */
+	widget = glade_xml_get_widget (glade_xml, "dialog_error");
+	widget = gtk_dialog_get_action_area (GTK_DIALOG(widget));
 	gtk_box_pack_start (GTK_BOX (widget), button, FALSE, FALSE, 0);
 
 	/* show window */
