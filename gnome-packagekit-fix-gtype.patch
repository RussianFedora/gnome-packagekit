commit 88f211513ef1e2eeec0f1d080eb3e17866bd833b
Author: Richard Hughes <richard@hughsie.com>
Date:   Mon Sep 8 18:53:10 2008 +0100

    bugfix: fix a crash in the GType initialisation due to compiling with LibGBus

diff --git a/libgbus/libgbus.c b/libgbus/libgbus.c
index ce91b6b..58b7cdf 100644
--- a/libgbus/libgbus.c
+++ b/libgbus/libgbus.c
@@ -53,7 +53,7 @@ enum {
 
 static guint	     signals [LAST_SIGNAL] = { 0 };
 
-G_DEFINE_TYPE (LibGBus, libgbus, G_TYPE_OBJECT)
+G_DEFINE_TYPE (GpkGBus, libgbus, G_TYPE_OBJECT)
 
 /**
  * name_owner_changed_cb:
diff --git a/libgbus/libgbus.h b/libgbus/libgbus.h
index 78697ab..b47ca26 100644
--- a/libgbus/libgbus.h
+++ b/libgbus/libgbus.h
@@ -50,6 +50,9 @@ typedef struct
 	void		(* connection_replaced)	(LibGBus	*watch);
 } LibGBusClass;
 
+typedef LibGBus GpkGBus;
+typedef LibGBusClass GpkGBusClass;
+
 typedef enum {
         LIBGBUS_SESSION,
         LIBGBUS_SYSTEM
